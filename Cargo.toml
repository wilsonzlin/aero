[package]
name = "aero"
version = "0.1.0"
edition = "2021"

[workspace]
resolver = "2"
members = [
    "crates/aero-acpi",
    "crates/aero-audio",
    "crates/aero-gpu",
    "crates/aero-gpu-device",
    "crates/aero-gpu-trace",
    "crates/aero-emulator",
    "crates/aero-core",
    "crates/aero-cpu",
    "crates/aero-tests",
    "crates/aero-ipc",
    "crates/aero-bios",
    "crates/aero_jit",
    "crates/aero-net-e1000",
    "crates/aero-net-stack",
    "crates/aero-storage",
    "crates/aero-mem",
    "crates/aero-mmu",
    "crates/aero-snapshot",
    "crates/aero-storage-server",
    "crates/aero-virtio",
    "crates/aero-vm",
    "crates/aero-webgpu",
    "crates/aero_cpu_core",
    "crates/aero_x86",
    "crates/aero-cpu-decoder",
    "crates/aero-dxbc",
    "crates/aero-d3d9",
    "crates/aero-debug",
    "crates/aero-d3d11",
    "crates/devices",
    "crates/emulator",
    "crates/firmware",
    "crates/machine",
    "crates/memory",
    "crates/platform",
    "crates/perf",
    "crates/aero-devices-input",
    "crates/aero-devices-nvme",
    "crates/aero-wasm",
    "server",
    "crates/nt-packetlib",
    "tools/bcd_patch",
    "crates/virtio-gpu-proto",
    "crates/vm",
    "backend/aero-gateway",
    "crates/aero-jit",
    "crates/aero-usb",
    "crates/st-idb",
    "crates/aero-net",
    "tools/net-proxy-server",
    "emulator/protocol",
    "crates/aero-gpu-vga",
]

exclude = [
    "fuzz",
    # Standalone tools with their own lockfiles (build by `cd tools/<name> && cargo ...`).
    "tools/win-offline-cert-injector",
    "tools/win-certstore-regblob-export",
]

[dev-dependencies]
aero-bios = { path = "crates/aero-bios" }
aero-d3d11 = { path = "crates/aero-d3d11" }
aero-gpu = { path = "crates/aero-gpu" }
bytemuck = { version = "1.14", features = ["derive"] }
pollster = "0.3"

[workspace.package]
edition = "2021"

[workspace.dependencies]
bitflags = "2.4.2"
iced-x86 = { version = "1.21.0", default-features = false, features = ["decoder", "instr_info", "std"] }
thiserror = "1.0.56"
