# `assets/` provenance

This directory contains **tiny, deterministic, redistribution-safe** binary assets that are
intentionally committed to the repository (and allowlisted by CI policy checks).

## `bios.bin`

`assets/bios.bin` is a **64 KiB x86 system BIOS ROM stub image** generated by
`firmware::bios::build_bios_rom` (`crates/firmware/src/bios/rom.rs`).

It is **not** a vendor BIOS/firmware dump. The ROM contains only the minimal stubs and tables needed
for Aero’s clean-room BIOS implementation (`firmware::bios`) to expose legacy INT services and a
conventional reset vector.

### Regenerating

Regenerate `assets/bios.bin` (and other deterministic in-repo fixtures) from the current Rust source
with:

```bash
cargo xtask fixtures
```

To verify the checked-in blob is up to date:

```bash
cargo xtask fixtures --check
```

If you only want to regenerate the BIOS ROM fixture:

```bash
cargo run -p firmware --bin gen_bios_rom --locked
```

### License

`bios.bin` is generated entirely from in-repo source code licensed under **MIT OR Apache-2.0** (see
`LICENSE-MIT` and `LICENSE-APACHE`). No third-party firmware code or proprietary ROM contents are
included.

### Expected invariants

The ROM image is expected to remain small and structurally stable. At minimum:

* **Size:** exactly `0x10000` bytes (64 KiB).
* **Reset vector:** bytes at offset `0xFFF0` (`F000:FFF0`) must be a FAR JMP to `F000:E000`:
  `EA 00 E0 00 F0`.
* **Fallback stub:** bytes at `0xE000` are `cli; hlt; jmp $-2` (`FA F4 EB FE`).
* **ROM signature:** last two bytes (`0xFFFE..0x10000`) are `55 AA`.
