// Built-in shaders for AeroGPU D3D9 UMD.
//
// These are embedded so the driver can implement compositor-critical operations
// (StretchRect/Blt, ColorFill) without relying on runtime shader compilation.
//
// The host `aero-d3d9` translator accepts both DXBC containers and raw D3D9
// shader token streams. We embed raw token streams here to keep the blobs small
// and avoid DXBC container overhead.
#pragma once

#include <cstddef>
#include <cstdint>

namespace aerogpu::builtin_d3d9_shaders {

// Vertex shader (vs_2_0):
//   mov oPos, v0
//   mov oT0, v1
//   end
inline constexpr uint8_t kCopyVsDxbc[] = {
    0x00, 0x02, 0xfe, 0xff, // vs_2_0
    0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x0f, 0x40, 0x00, 0x00, 0xe4, 0x10, // mov oPos, v0
    0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x0f, 0x60, 0x01, 0x00, 0xe4, 0x10, // mov oT0, v1
    0xff, 0xff, 0x00, 0x00  // end
};

// Pixel shader (ps_2_0):
//   texld r0, t0, s0
//   mul r0, r0, c0
//   mov oC0, r0
//   end
inline constexpr uint8_t kCopyPsDxbc[] = {
    0x00, 0x02, 0xff, 0xff, // ps_2_0
    0x42, 0x00, 0x00, 0x03, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00, 0xe4, 0x30,
    0x00, 0x08, 0xe4, 0x20, // texld r0, t0, s0
    0x05, 0x00, 0x00, 0x03, 0x00, 0x00, 0x0f, 0x00, 0x00, 0x00, 0xe4, 0x00,
    0x00, 0x00, 0xe4, 0x20, // mul r0, r0, c0
    0x01, 0x00, 0x00, 0x02, 0x00, 0x08, 0x0f, 0x00, 0x00, 0x00, 0xe4, 0x00, // mov oC0, r0
    0xff, 0xff, 0x00, 0x00 // end
};

inline constexpr size_t kCopyVsDxbcSize = sizeof(kCopyVsDxbc);
inline constexpr size_t kCopyPsDxbcSize = sizeof(kCopyPsDxbc);

} // namespace aerogpu::builtin_d3d9_shaders
