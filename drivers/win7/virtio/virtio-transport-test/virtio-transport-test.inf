[Version]
Signature="$WINDOWS NT$"
Class=System
ClassGuid={4D36E97D-E325-11CE-BFC1-08002BE10318}
Provider=%ManufacturerName%
DriverVer=01/10/2026,0.1.0.0
CatalogFile=virtio-transport-test.cat

[Manufacturer]
%ManufacturerName%=Standard,NTx86.6.1,NTamd64.6.1

;
; Edit the hardware ID below to bind the smoke-test driver to a different
; virtio modern PCI device.
;
; Default policy: use a *non-contract* virtio PCI ID so this test driver cannot
; steal binding from real Aero devices when multiple driver packages are staged
; (for example, when recursively installing all *.inf files from a driver bundle).
;
[Standard.NTx86.6.1]
%VirtioTransportTest.DeviceDesc%=VirtioTransportTest_Install, PCI\VEN_1AF4&DEV_1040

[Standard.NTamd64.6.1]
%VirtioTransportTest.DeviceDesc%=VirtioTransportTest_Install, PCI\VEN_1AF4&DEV_1040

[DestinationDirs]
DefaultDestDir=12 ; %windir%\System32\drivers

[VirtioTransportTest_Install.NT]
CopyFiles=VirtioTransportTest.CopyFiles

[VirtioTransportTest.CopyFiles]
virtio-transport-test.sys

[VirtioTransportTest_Install.NT.Services]
AddService=VirtioTransportTest,0x00000002,VirtioTransportTest_Service_Inst

[VirtioTransportTest_Service_Inst]
ServiceType=1 ; SERVICE_KERNEL_DRIVER
StartType=3 ; SERVICE_DEMAND_START
ErrorControl=1
ServiceBinary=%12%\virtio-transport-test.sys

[VirtioTransportTest_Install.NT.Wdf]
KmdfService=VirtioTransportTest, VirtioTransportTest_WdfSect

[VirtioTransportTest_WdfSect]
KmdfLibraryVersion=1.9

[Strings]
ManufacturerName="Aero"
VirtioTransportTest.DeviceDesc="virtio transport smoke test (modern PCI)"
