// This file is auto-generated by tools/gen_scancodes/gen_scancodes.mjs.
// Source of truth: tools/gen_scancodes/scancodes.json
//
// Regenerate:
//   npm run gen:scancodes

export type Ps2Set2Scancode =
  | { kind: 'simple'; make: number; extended: boolean }
  | { kind: 'sequence'; make: readonly number[]; break: readonly number[] };

export const PS2_SET2_CODE_TO_SCANCODE: Record<string, Ps2Set2Scancode> = {
  "AltLeft": { kind: 'simple', make: 0x11, extended: false },
  "AltRight": { kind: 'simple', make: 0x11, extended: true },
  "ArrowDown": { kind: 'simple', make: 0x72, extended: true },
  "ArrowLeft": { kind: 'simple', make: 0x6B, extended: true },
  "ArrowRight": { kind: 'simple', make: 0x74, extended: true },
  "ArrowUp": { kind: 'simple', make: 0x75, extended: true },
  "Backquote": { kind: 'simple', make: 0x0E, extended: false },
  "Backslash": { kind: 'simple', make: 0x5D, extended: false },
  "Backspace": { kind: 'simple', make: 0x66, extended: false },
  "BracketLeft": { kind: 'simple', make: 0x54, extended: false },
  "BracketRight": { kind: 'simple', make: 0x5B, extended: false },
  "CapsLock": { kind: 'simple', make: 0x58, extended: false },
  "Comma": { kind: 'simple', make: 0x41, extended: false },
  "ContextMenu": { kind: 'simple', make: 0x2F, extended: true },
  "ControlLeft": { kind: 'simple', make: 0x14, extended: false },
  "ControlRight": { kind: 'simple', make: 0x14, extended: true },
  "Delete": { kind: 'simple', make: 0x71, extended: true },
  "Digit0": { kind: 'simple', make: 0x45, extended: false },
  "Digit1": { kind: 'simple', make: 0x16, extended: false },
  "Digit2": { kind: 'simple', make: 0x1E, extended: false },
  "Digit3": { kind: 'simple', make: 0x26, extended: false },
  "Digit4": { kind: 'simple', make: 0x25, extended: false },
  "Digit5": { kind: 'simple', make: 0x2E, extended: false },
  "Digit6": { kind: 'simple', make: 0x36, extended: false },
  "Digit7": { kind: 'simple', make: 0x3D, extended: false },
  "Digit8": { kind: 'simple', make: 0x3E, extended: false },
  "Digit9": { kind: 'simple', make: 0x46, extended: false },
  "End": { kind: 'simple', make: 0x69, extended: true },
  "Enter": { kind: 'simple', make: 0x5A, extended: false },
  "Equal": { kind: 'simple', make: 0x55, extended: false },
  "Escape": { kind: 'simple', make: 0x76, extended: false },
  "F1": { kind: 'simple', make: 0x05, extended: false },
  "F10": { kind: 'simple', make: 0x09, extended: false },
  "F11": { kind: 'simple', make: 0x78, extended: false },
  "F12": { kind: 'simple', make: 0x07, extended: false },
  "F2": { kind: 'simple', make: 0x06, extended: false },
  "F3": { kind: 'simple', make: 0x04, extended: false },
  "F4": { kind: 'simple', make: 0x0C, extended: false },
  "F5": { kind: 'simple', make: 0x03, extended: false },
  "F6": { kind: 'simple', make: 0x0B, extended: false },
  "F7": { kind: 'simple', make: 0x83, extended: false },
  "F8": { kind: 'simple', make: 0x0A, extended: false },
  "F9": { kind: 'simple', make: 0x01, extended: false },
  "Home": { kind: 'simple', make: 0x6C, extended: true },
  "Insert": { kind: 'simple', make: 0x70, extended: true },
  "IntlBackslash": { kind: 'simple', make: 0x61, extended: false },
  "IntlHash": { kind: 'simple', make: 0x5D, extended: false },
  "IntlRo": { kind: 'simple', make: 0x61, extended: false },
  "IntlYen": { kind: 'simple', make: 0x5D, extended: false },
  "KeyA": { kind: 'simple', make: 0x1C, extended: false },
  "KeyB": { kind: 'simple', make: 0x32, extended: false },
  "KeyC": { kind: 'simple', make: 0x21, extended: false },
  "KeyD": { kind: 'simple', make: 0x23, extended: false },
  "KeyE": { kind: 'simple', make: 0x24, extended: false },
  "KeyF": { kind: 'simple', make: 0x2B, extended: false },
  "KeyG": { kind: 'simple', make: 0x34, extended: false },
  "KeyH": { kind: 'simple', make: 0x33, extended: false },
  "KeyI": { kind: 'simple', make: 0x43, extended: false },
  "KeyJ": { kind: 'simple', make: 0x3B, extended: false },
  "KeyK": { kind: 'simple', make: 0x42, extended: false },
  "KeyL": { kind: 'simple', make: 0x4B, extended: false },
  "KeyM": { kind: 'simple', make: 0x3A, extended: false },
  "KeyN": { kind: 'simple', make: 0x31, extended: false },
  "KeyO": { kind: 'simple', make: 0x44, extended: false },
  "KeyP": { kind: 'simple', make: 0x4D, extended: false },
  "KeyQ": { kind: 'simple', make: 0x15, extended: false },
  "KeyR": { kind: 'simple', make: 0x2D, extended: false },
  "KeyS": { kind: 'simple', make: 0x1B, extended: false },
  "KeyT": { kind: 'simple', make: 0x2C, extended: false },
  "KeyU": { kind: 'simple', make: 0x3C, extended: false },
  "KeyV": { kind: 'simple', make: 0x2A, extended: false },
  "KeyW": { kind: 'simple', make: 0x1D, extended: false },
  "KeyX": { kind: 'simple', make: 0x22, extended: false },
  "KeyY": { kind: 'simple', make: 0x35, extended: false },
  "KeyZ": { kind: 'simple', make: 0x1A, extended: false },
  "MetaLeft": { kind: 'simple', make: 0x1F, extended: true },
  "MetaRight": { kind: 'simple', make: 0x27, extended: true },
  "Minus": { kind: 'simple', make: 0x4E, extended: false },
  "NumLock": { kind: 'simple', make: 0x77, extended: false },
  "Numpad0": { kind: 'simple', make: 0x70, extended: false },
  "Numpad1": { kind: 'simple', make: 0x69, extended: false },
  "Numpad2": { kind: 'simple', make: 0x72, extended: false },
  "Numpad3": { kind: 'simple', make: 0x7A, extended: false },
  "Numpad4": { kind: 'simple', make: 0x6B, extended: false },
  "Numpad5": { kind: 'simple', make: 0x73, extended: false },
  "Numpad6": { kind: 'simple', make: 0x74, extended: false },
  "Numpad7": { kind: 'simple', make: 0x6C, extended: false },
  "Numpad8": { kind: 'simple', make: 0x75, extended: false },
  "Numpad9": { kind: 'simple', make: 0x7D, extended: false },
  "NumpadAdd": { kind: 'simple', make: 0x79, extended: false },
  "NumpadClear": { kind: 'simple', make: 0x73, extended: false },
  "NumpadComma": { kind: 'simple', make: 0x71, extended: false },
  "NumpadDecimal": { kind: 'simple', make: 0x71, extended: false },
  "NumpadDivide": { kind: 'simple', make: 0x4A, extended: true },
  "NumpadEnter": { kind: 'simple', make: 0x5A, extended: true },
  "NumpadEqual": { kind: 'simple', make: 0x55, extended: false },
  "NumpadMultiply": { kind: 'simple', make: 0x7C, extended: false },
  "NumpadSubtract": { kind: 'simple', make: 0x7B, extended: false },
  "OSLeft": { kind: 'simple', make: 0x1F, extended: true },
  "OSRight": { kind: 'simple', make: 0x27, extended: true },
  "PageDown": { kind: 'simple', make: 0x7A, extended: true },
  "PageUp": { kind: 'simple', make: 0x7D, extended: true },
  "Pause": { kind: 'sequence', make: [0xE1, 0x14, 0x77, 0xE1, 0xF0, 0x14, 0xF0, 0x77], break: [] },
  "Period": { kind: 'simple', make: 0x49, extended: false },
  "PrintScreen": { kind: 'sequence', make: [0xE0, 0x12, 0xE0, 0x7C], break: [0xE0, 0xF0, 0x7C, 0xE0, 0xF0, 0x12] },
  "Quote": { kind: 'simple', make: 0x52, extended: false },
  "ScrollLock": { kind: 'simple', make: 0x7E, extended: false },
  "Semicolon": { kind: 'simple', make: 0x4C, extended: false },
  "ShiftLeft": { kind: 'simple', make: 0x12, extended: false },
  "ShiftRight": { kind: 'simple', make: 0x59, extended: false },
  "Slash": { kind: 'simple', make: 0x4A, extended: false },
  "Space": { kind: 'simple', make: 0x29, extended: false },
  "Tab": { kind: 'simple', make: 0x0D, extended: false },
};

export function ps2Set2ScancodeForCode(
  code: string,
  overrides?: Partial<Record<string, Ps2Set2Scancode>>,
): Ps2Set2Scancode | undefined {
  return overrides?.[code] ?? PS2_SET2_CODE_TO_SCANCODE[code];
}

export function ps2Set2BytesForKeyEvent(
  code: string,
  pressed: boolean,
  overrides?: Partial<Record<string, Ps2Set2Scancode>>,
): number[] | undefined {
  const sc = ps2Set2ScancodeForCode(code, overrides);
  if (!sc) return undefined;
  if (sc.kind === 'sequence') return pressed ? [...sc.make] : [...sc.break];
  if (pressed) return sc.extended ? [0xE0, sc.make] : [sc.make];
  return sc.extended ? [0xE0, 0xF0, sc.make] : [0xF0, sc.make];
}
